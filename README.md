# ì¼ì§€

## 2025.11.20

> ìš”êµ¬ì‚¬í•­
> - ì½”ì¸ ì„ ë¬¼ ìë™ë§¤ë§¤ í”„ë¡œê·¸ë¨ì„ ë§Œë“¤ë ¤ê³  í•˜ê³  ìˆë‹¤.
> - ê±°ë˜ì†ŒëŠ” ë°”ì´ë‚¸ìŠ¤ì™€ ë¹™ì—‘ìŠ¤ë¥¼ ì‚¬ìš©í• ê±°ë‹¤.
> - ì¶”ì„¸ì¶”ì¢… ì „ëµì„ ì‚¬ìš©í• ê±°ê³ , ìŠ¤ìº˜í•‘ìœ¼ë¡œ ìˆ˜ìµì„ ê·¹ëŒ€í™” í•˜ë ¤ê³  í•˜ê³  ìˆë‹¤.

### ë‹µë³€

ìŠ¤ìº˜í•‘ì€ '**ì†ë„**'ì™€ '**ì •í™•ì„±**'ì´ ìƒëª…ì´ë©°, ì„ ë¬¼ ê±°ë˜ëŠ” '**ë¦¬ìŠ¤íŠ¸ ê´€ë¦¬**'ê°€ í•µì‹¬.

- **ì•„í‚¤í…ì²˜ ë° ì „ëµê°€ì´ë“œ** 5ë‹¨ê³„
  1. **ê¸°ìˆ  ìŠ¤íƒ ë° ì•„í‚¤í…ì²˜ (Speed & Stability)**
     - ìŠ¤ìº˜í•‘ì€ 0.1ì´ˆ ì°¨ì´ë¡œ ìˆ˜ìµê³¼ ì†ì‹¤ì´ ê°ˆë¦°ë‹¤.
     - **ì–¸ì–´: Python** (ë°ì´í„° ë¶„ì„ ë° ê±°ë˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ê°€ì¥ í’ë¶€í•¨)
     - **í•µì‹¬ ë¼ì´ë¸ŒëŸ¬ë¦¬**: `CCXT` (Async ë²„ì „)
       - ë°”ì´ë‚¸ìŠ¤ì™€ ë¹™ì—‘ìŠ¤ APIë¥¼ í†µí•© ê´€ë¦¬í•˜ê¸° ìœ„í•´ í•„ìˆ˜.
       - ë™ê¸°(Sync) ë°©ì‹ì´ ì•„ë‹Œ **ë¹„ë™ê¸°(Async/Await)** ë°©ì‹ì„ ì‚¬ìš©í•˜ì—¬ ë…¼ë¸”ë¡œí‚¹ ì£¼ë¬¸ ì²˜ë¦¬ë¥¼ êµ¬í˜„í•´ì•¼ í•¨.
     - **ë°ì´í„° í†µì‹ : WebSockets**
       - REST APIëŠ” í´ë§ ë°©ì‹ì´ë¼ ëŠë¦¼
       - ì‹¤ì‹œê°„ í˜¸ê°€ì°½(Orderbook)ê³¼ ì²´ê²° ë‚´ì—­(Trade)ì„ ë°›ê¸° ìœ„í•´ ë°˜ë“œì‹œ ì›¹ì†Œì¼“ì„ ì‚¬ìš©í•´ì•¼ í•¨.
  2. **ì „ëµ ì„¤ê³„: ì¶”ì„¸ ì¶”ì¢… + ìŠ¤ìº˜í•‘ (Logic)**
     - "ì¶”ì„¸ë¥¼ ë”°ë¥´ë©´ì„œ ì§§ê²Œ ë¨¹ëŠ”ë‹¤"ëŠ” ëª¨ìˆœë  ìˆ˜ ìˆì§€ë§Œ, **ë©€í‹° íƒ€ì„í”„ë ˆì„(Multi-Timeframe)** ì „ëµì„ ì“°ë©´ ê°€ëŠ¥í•¨.
     - **A. ì¶”ì„¸ íŒë‹¨ (ìƒìœ„ ì‹œê°„ë´‰: 15ë¶„/1ì‹œê°„)**
       - í° íë¦„ì´ ìƒìŠ¹ì¸ì§€ í•˜ë½ì¸ì§€ ë¨¼ì € íŒŒì•…í•œë‹¤.
       - **ë„êµ¬**: EMA(ì§€ìˆ˜ ì´ë™ í‰ê· ) 200ì„ , MACD
       - **ë¡œì§**: ê°€ê²©ì´ EMA 200 ìœ„ì— ìˆìœ¼ë©´ **Long(ë§¤ìˆ˜)ë§Œ** ì§„ì…, ì•„ë˜ì— ìˆìœ¼ë©´ **Short(ë§¤ë„)ë§Œ** ì§„ì…í•œë‹¤. (ì—­ì¶”ì„¸ ë§¤ë§¤ ê¸ˆì§€)
     - **B. ì§„ì… íƒ€ì´ë° (í•˜ìœ„ ì‹œê°„ë´‰: 1ë¶„/5ë¶„)**
       - í° ì¶”ì„¸ê°€ ì •í•´ì§„ ìƒíƒœì—ì„œ, ì¼ì‹œì ì¸ ëˆŒë¦¼ëª©(Pullback)ì´ë‚˜ ëŒíŒŒ(Breakout)ë¥¼ ë…¸ë¦°ë‹¤.
       - **ë„êµ¬**: RSI(ìƒëŒ€ ê°•ë„ì§€ìˆ˜), ë³¼ë¦¬ì € ë°´ë“œ
       - **ë¡œì§ì˜ˆì‹œ(Long ê¸°ì¤€)**:
         1. 1ì‹œê°„ë´‰ ì¶”ì„¸ê°€ ìƒìŠ¹(EMA 200ìœ„)ì´ë‹¤.
         2. 1ë¶„ë´‰ì—ì„œ RSIê°€ 30 ì´í•˜(ê³¼ë§¤ë„)ë¥¼ ì°ê³  ë‹¤ì‹œ ì˜¬ë¼ì˜¬ë•Œ ì§„ì….
         3. ë˜ëŠ” ë³¼ë¦°ì € ë°´ë“œ í•˜ë‹¨ì„ í„°ì¹˜í•˜ê³  ì–‘ë´‰ì´ ë‚˜ì˜¬ ë•Œ ì§„ì…
  3. **ê±°ë˜ì†Œë³„ íŠ¹ì„± ë° ëŒ€ì‘ (Exchange Handling)**
     - ë‘ ê±°ë˜ì†Œë¥¼ ë™ì‹œì— ì‚¬ìš©í•˜ëŠ” ì´ìœ  (ì°¨ìµê±°ë˜ì¸ì§€, ë¶„ì‚° íˆ¬ìì¸ì§€)ì— ë”°ë¼ ëŒ€ì‘ì´ ë‹¤ë¦„.
       - **Binance**: ìœ ë™ì„±ì´ í’ë¶€í•˜ì—¬ ìŠ¬ë¦¬í”¼ì§€ê°€ ì ìŒ. ë©”ì¸ ê±°ë˜ìš©ìœ¼ë¡œ ì í•©
       - **BingX**: í€ë”©ë¹„ë‚˜ ìˆ˜ìˆ˜ë£Œ ì´ë²¤íŠ¸ê°€ ìˆì„ë•Œ ìœ ë¦¬í•¨.
       - **ì£¼ì˜ì **: ë‘ ê±°ë˜ì†Œì˜ API ì†ë„ ì œí•œ(Rate Limit)ì´ ë‹¤ë¦„. ë´‡ì´ ë©ˆì¶”ì§€ ì•Šë„ë¡ `RateLimit` ì—ëŸ¬ í•¸ë“¤ë§ì„ ì² ì €íˆ í•´ì•¼ í•¨.
  4. **ë¦¬ìŠ¤í¬ ê´€ë¦¬ (Risk management - ìƒì¡´ì˜ í•µì‹¬)**
     - ì„ ë¬¼ ìŠ¤ìº˜í•‘ì—ì„œ ë´‡ì´ ë§ê°€ì§€ëŠ” ê°€ì¥ í° ì´ìœ ëŠ” ***í•œ ë²ˆì˜ í° ì†ì‹¤*** ì„.
       - **ì†ìµë¹„(Risk Reward Ratio)**: ìŠ¤ìº˜í•‘ì€ ìŠ¹ë¥ ì´ ì¤‘ìš”í•˜ì§€ë§Œ, ì†ìµë¹„ê°€ 1:1 ì´ìƒì€ ë˜ì–´ì•¼ í•¨. (ì˜ˆ: ìµì ˆ 0.5%, ì†ì ˆ 0.3%)
       - **ìˆ˜ìˆ˜ë£Œ ê³„ì‚°**: ìŠ¤ìº˜í•‘ì€ ê±°ë˜ íšŸìˆ˜ê°€ ë§ìŒ. `(ì§„ì… ìˆ˜ìˆ˜ë£Œ + ì²­ì‚° ìˆ˜ìˆ˜ë£Œ) > ê¸°ëŒ€ ìˆ˜ìµ` ì´ë©´ 100ë²ˆ ì´ê²¨ë„ ì”ê³ ëŠ” ì¤„ì–´ë“ ë‹¤. ë°˜ë“œì‹œ **ë©”ì´ì»¤(Maker, ì§€ì •ê°€) ì£¼ë¬¸**ì„ í™œìš©í•˜ì—¬ ìˆ˜ìˆ˜ë£Œë¥¼ ë‚®ì¶”ëŠ” ë¡œì§ì„ ì§œì•¼ í•¨.
       - **ìµœëŒ€ ì†ì‹¤ ì œí•œ(Drawdown Limit)**: í•˜ë£¨ ëˆ„ì  ì†ì‹¤ì´ ì‹œë“œì˜ 5%ì— ë„ë‹¬í•˜ë©´ ë´‡ì´ ìë™ìœ¼ë¡œ 24ì‹œê°„ë™ì•ˆ êº¼ì§€ë„ë¡ ì„¤ê³„í•¨.
  5. **ê°œë°œ ë¡œë“œë§µ (Next Steps)**
     1. **í™˜ê²½ ì„¤ì •** : Python, ê°€ìƒ í™˜ê²½, CCXT ì„¤ì¹˜ ë° API Key ë³´ì•ˆ ì„¤ì • (`.env`)
     2. **ë°ì´í„° ìˆ˜ì§‘ê¸° êµ¬í˜„**: ë°”ì´ë‚¸ìŠ¤/ë¹™ì—‘ìŠ¤ ì›¹ì†Œì¼“ ì—°ê²° ë° ì‹¤ì‹œê°„ ê°€ê²© ìˆ˜ì‹ 
     3. **ì „ëµ ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„**: EMA, RSI ë“±ì„ ê³„ì‚°í•˜ê³  ë§¤ìˆ˜/ë§¤ë„ ì‹ í˜¸ë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜ ì‘ì„±.
     4. **ì£¼ë¬¸ ì§‘í–‰ ì—”ì  **: ì‹ í˜¸ ë°œìƒ ì‹œ ì‹¤ì œë¡œ ì£¼ë¬¸ì„ ë„£ê³ , ìµì ˆ/ì†ì ˆì„ ê±°ëŠ” ê¸°ëŠ¥
     5. **ë°±í…ŒìŠ¤íŒ… & í˜ì´í¼ íŠ¸ë ˆì´ë”©**: ê³¼ê±° ë°ì´í„°ë¡œ ê²€ì¦í•˜ê³ , ê°€ìƒ ìê¸ˆìœ¼ë¡œ ì‹¤ì „ í…ŒìŠ¤íŠ¸.

---

## 2025.11.21

> ìš”êµ¬ì‚¬í•­
> **ê¸°ë³¸ ê³¨ê²© ì½”ë“œ ì‘ì„±**
> **"Python"ê³¼ "CCXT"ë¥¼ ì´ìš©í•´ì„œ ë°”ì´ë‚¸ìŠ¤ì™€ ë¹™ì—‘ìŠ¤ì˜ í˜„ì¬ ê°€ê²©ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ê°€ì ¸ì˜¤ê³ , ê°„ë‹¨í•œ ì´ë™í‰ê· ì„ (EMA)ì„ ê³„ì‚°í•˜ëŠ” ê¸°ì´ˆ ì½”ë“œë¥¼ ë¨¼ì € ì‘ì„±í•˜ë¼.**

### ë‹µë³€

**Pythonì˜ ë¹„ë™ê¸°(Async) ê¸°ëŠ¥**ì„ í™œìš©í•˜ì—¬ ë°”ì´ë‚¸ìŠ¤ì™€ ë¹™ì—‘ìŠ¤ì˜ ì„ ë¬¼ ì‹œì¥ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê³ , ì¶”ì„¸ íŒë‹¨ì˜ í•µì‹¬ì¸ **EMA(ì§€ìˆ˜ì´ë™í‰ê· )**ë¥¼ ê³„ì‚°í•˜ëŠ” ê¸°ë³¸ê³¨ê²©ì½”ë“¤ ì‘ì„±.

#### 1. ì‚¬ì „ ì¤€ë¹„ (ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜)

í„°ë¯¸ë„ì—ì„œ ì•„ë˜ ëª…ë ¹ì–´ë¡œ í•„ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜

- `ccxt`: ì•”í˜¸í™”í ê±°ë˜ì†Œ í†µí•© ë¼ì´ë¸ŒëŸ¬ë¦¬ (ë¹„ë™ê¸° ì§€ì›)
- `pandas`: ë°ì´í„° ë¶„ì„ ë° ì§€í‘œ(EMA) ê³„ì‚°
- `python-dotenv`: API í‚¤ ë³´ì•ˆ ê´€ë¦¬

```bash
pip install ccxt pandas python-dotenv
```

#### 2. ë³´ì•ˆ ì„¤ì •(.env íŒŒì¼)

í”„ë¡œì íŠ¸ í´ë”ì— `.env` íŒŒì¼ì„ ë§Œë“¤ê³  ì•„ë˜ì™€ ê°™ì´ ì±„ì›Œì¤Œ.

```bash
BINANCE_API_KEY=your_binance_api_key
BINANCE_SECRET=your_binance_secret
BINGX_API_KEY=your_bingx_api_key
BINGX_SECRET=your_bingx_secret
```

#### 3. ë´‡ í•µì‹¬ ì½”ë“œ (crypto_bot.py)

```python
import asyncio
import ccxt.async_support as ccxt   # ë¹„ë™ê¸° ëª¨ë“ˆ ì‚¬ìš©
import pandas as pd
import os
from dotenv import load_dotenv
from datetime import datetime

# 1. í™˜ê²½ ë³€ìˆ˜ ë¡œë“œ
load_dotenv()

class CryptoBot:
    def __init__(self):
        # ê±°ë˜ì†Œ ê°ì²´ ì´ˆê¸°í™” (ë¹„ë™ê¸° ë°©ì‹)
        self.exchanges = {
            "binance": ccxt.binance({
                "apiKey": os.environ.get("BINANCE_API_KEY", ""),
                "secret": os.environ.get("BINANCE_SECRET_KEY", ""),
                "enableRateLimit": True,  # API ì°¨ë‹¨ ë°©ì§€
                "options": {"defaultType": "future"}  # ì„ ë¬¼ ê±°ë˜ ì„¤ì •
            }),
            "bingx": ccxt.bingx({
                "apiKey": os.environ.get("BINGX_API_KEY", ""),
                "secret": os.environ.get("BINGX_SECRET_KEY", ""),
                "enableRateLimit": True,
                "options": {"defaultType": "future"}
            })
        }
        self.symbol = "BTC/USDT"
        self.timeframe = '1m'   # ìŠ¤ìº˜í•‘ìš© 1ë¶„ë´‰

    async def fetch_data(self, exchange_name):
        """ê°€ê²© ë°ì´í„° ë° ìº”ë“¤ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜´."""
        exchange = self.exchanges[exchange_name]
        try:
            # í˜„ì¬ê°€ ì¡°íšŒ (Ticker)
            ticker = await exchange.fetch_ticker(self.symbol)
            current_price = ticker['last']

            # ê³¼ê±° ìº”ë“¤ ì¡°íšŒ (OHLCV) -EMA ê³„ì‚°ìš© (ìµœê·¼ 30ê°œë§Œ)
            ohlcv = await exchange.fetch_ohlcv(self.symbol, self.timeframe, limit=30)

            return current_price, ohlcv
        except Exception as e:
            print(f"[{exchange_name}] Error: {e}")
            return None, None

    def calculate_ema(self, ohlcv, span=20):
        """Pandasë¥¼ ì´ìš©í•´ EMA(ì§€ìˆ˜ì´ë™í‰ê· )ë¥¼ ê³„ì‚°í•¨."""
        if not ohlcv:
            return None

        # CCXT ë°ì´í„°ë¥¼ DataFrameìœ¼ë¡œ ë³€í™˜
        df = pd.DataFrame(ohlcv, columns=['timestamp', 'open', 'high', 'low', 'close', 'volume'])

        # EMA ê³„ì‚° (close ê°€ê²© ê¸°ì¤€)
        df['ema'] = df['close'].ewm(span=span, adjust=False).mean()

        # ê°€ì¥ ìµœê·¼ì˜ EMA ê°’ ë³€í™˜
        return df['ema'].iloc[-1]

    async def run_cycle(self):
        """ë©”ì¸ ì‹¤í–‰ ë£¨í”„"""
        print(f"--- ë´‡ ì‹œì‘: {self.symbol} ê°ì‹œ ì¤‘ ---")

        try:
            while True:
                tasks = [self.process_exchange(name) for name in self.exchanges]
                await asyncio.gather(*tasks)

                print("-" * 50)
                await asyncio.sleep(2)

        except KeyboardInterrupt:
            print("\në´‡ì„ ì¢…ë£Œí•¨.")
        finally:
            # ê±°ë˜ì†Œ ì—°ê²° ì¢…ë£Œ (í•„ìˆ˜)
            for exchange in self.exchanges.values():
                await exchange.close()

    async def process_exchange(self, exchange_name):
        """ê°œë³„ ê±°ë˜ì†Œ ë¡œì§ ì²˜ë¦¬"""
        price, ohlcv = await self.fetch_data(exchange_name)

        if price and ohlcv:
            ema = self.calculate_ema(ohlcv, span=20)    # 20EMA

            # ì¶”ì„¸ íŒë‹¨ ë¡œì§ (ê°„ë‹¨ ì˜ˆì‹œ)
            trend = "ìƒìŠ¹ ğŸš€" if price > ema else "í•˜ë½ ğŸ“‰"

            now = datetime.now().strftime("%H:%M:%S")
            print(f"[{now}] {exchange_name.upper():<7} | í˜„ì¬ê°€: {price: .2f} | EMA(20): {ema:.2f} | ì¶”ì„¸: {trend}")
```

#### 4. ì½”ë“œ ë¶„ì„ ë° í•µì‹¬ í¬ì¸íŠ¸

1. `ccxt.async_support`: ì¼ë°˜ `import ccxt`ê°€ ì•„ë‹Œ ë¹„ë™ê¸° ëª¨ë“ˆì„ ì‚¬ìš©í–ˆìŒ. ì´ë ‡ê²Œ í•´ì„œ ë°”ì´ë‚¸ìŠ¤ì™€ ë¹™ì—‘ìŠ¤ì˜ ë°ì´í„°ë¥¼ **ë™ì‹œì—(Parallel)** ìš”ì²­í•˜ì—¬ ì†ë„ë¥¼ ë†’ì„.
2. **ì„ ë¬¼ ì‹œì¥ ì„¤ì •**:
   - Binance: `'options': {'defaultType':'future'}`
   - BingX: `'options': {'defaultType': 'future'}`
   - ì´ ì„¤ì •ì´ ì—†ìœ¼ë©´ í˜„ë¬¼ ê°€ê²©ì„ ê°€ì ¸ì˜¤ê²Œ ë¨.
3. **EMA ê³„ì‚°**: `pandas`ì˜ `ewm`(Exponential Weighted Moving) í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ìˆ˜í•™ì ìœ¼ë¡œ ì •í™•í•œ ì§€ìˆ˜ ì´ë™ í‰ê· ì„ êµ¬í•¨.
4. **ë°ì´í„° íë¦„**: `fetch_ohlcv`ë¡œ ìº”ë“¤ ë°ì´í„°ë¥¼ ë°›ì•„ì™€ì„œ ì¶”ì„¸ì„ (EMA)ì„ ê·¸ë¦¬ê³ , `fetch_ticker`ë¡œ í˜„ì¬ê°€ê°€ ê·¸ ìœ„ì— ìˆëŠ”ì§€ ì•„ë˜ì— ìˆëŠ”ì§€ íŒë‹¨í•¨.